<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="uft-8" />
    <link rel="stylesheet" href="https://p.trellocdn.com/power-up.min.css" />
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <script src="../js/jquery-3.7.1.js"></script>
    <title>Good Mood</title>
  </head>
  <body>
    <div id="image-container"></div>
    <script>
        try {
            fetch('https://icanhazdadjoke.com/', {
                headers: {
                    "Accept": "application/json",
                },
            })
                .then(response => {
                    return response.json();
                })
                .then(data => {
                    displayJoke(data.joke);
                });
        } catch (error) {
            console.error("Error: ", error);
        };

        function displayJoke(joke) {
            const body = document.querySelector('body');
            const p = document.createElement('p');
            p.textContent = joke;
            body.appendChild(p);
        }

        $(document).ready(function(){
            const xhr = $.get("http://api.giphy.com/v1/gifs/search?q=funny&api_key=awEx0G1tfuWQDbz6jXdFEHAwoYmpdiyA&limit=1");
            xhr.done(function(gif) { console.log("success got data", gif); displayGif(gif.data[0].url)});
        });

        function displayGif(url) {
            console.log(url);
            const img = $('<img>').attr('src', url).attr('alt', 'funny');
            $('#image-container').append(img);
        }

        
    </script>
  </body>
</html>